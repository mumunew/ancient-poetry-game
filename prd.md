# 古诗词学习应用需求说明 (PRD.md)

## 1. 项目概述

### 1.1 产品名称
古诗词学习助手

### 1.2 产品定位
一款帮助用户熟悉和记忆古诗词的交互式学习应用，通过游戏化方式提升学习趣味性。

### 1.3 目标用户
- 学生群体
- 古诗词爱好者
- 传统文化学习者

## 2. 功能需求

### 2.1 核心功能模块

#### 2.1.1 用户系统
- 自动生成临时用户名（如"游客1234"）
- 用户无需注册即可开始使用
- 会话期间保持用户身份一致性

#### 2.1.2 难度选择系统
**初级难度 - 诗句修复**
- 展示一首不完整的古诗词（缺少一句）
- 提供4个选项（包含1个正确答案和3个干扰项）
- 用户选择正确答案后显示游戏人物感谢动画
- **错题重做机制**：用户答错时不进入下一关，而是在当前关卡重新出题，直到答对为止才能进入下一关

**中级难度 - 诗句编排**
- 展示一首被打乱顺序的古诗词
- 用户通过拖拽或点击方式重新排列诗句
- 提供提交验证功能

**高级难度 - 诗词默写**
- 显示古诗题目和作者
- 提供输入框供用户默写整首诗词
- 支持逐句验证或整体验证模式

#### 2.1.3 排行榜系统
- 每个难度级别独立排行榜
- 基于得分和完成时间排序
- 显示前10名用户及其成绩

#### 2.1.4 数据管理系统
- 古诗词库使用独立数据文件管理
- 通过Supabase进行后端数据存储
- 确保API密钥等敏感信息安全

### 2.2 用户体验要求
- 操作简单直观，减少学习成本
- 界面响应迅速，无卡顿
- 清晰的进度提示和反馈

## 3. 技术规范

### 3.1 开发技术栈
- 主要技术：HTML + CSS + JavaScript
- 后端集成：Supabase
- 不依赖大型框架，保持程序轻量化

### 3.2 架构设计
**洋葱开发逻辑分层：**
1. 核心数据层 - 古诗词库管理
2. 业务逻辑层 - 游戏规则和计分系统
3. 界面表现层 - 用户交互界面
4. 数据持久层 - Supabase集成

### 3.3 兼容性要求
- 完全兼容桌面电脑（Chrome, Safari, Firefox, Edge）
- 适配平板设备（iPad, Android平板）
- 优化移动端体验（iOS, Android）

### 3.4 安全规范
- API密钥等敏感信息绝不暴露在前端代码中
- 用户数据通过安全通道传输
- 实施适当的数据验证和清理

## 4. 界面设计规范

### 4.1 设计风格
- 参考macOS设计语言：简洁、留白充足、圆角元素
- 色彩方案：柔和色调，高对比度确保可读性
- 字体选择：系统默认字体，确保跨平台一致性

### 4.2 布局要求
**桌面端：**
- 充分利用屏幕空间，合理分区
- 清晰的导航和功能区域划分

**平板端：**
- 触控友好的界面元素
- 适中的字体大小和按钮尺寸

**移动端：**
- 单列布局，垂直滚动
- 大尺寸触控目标
- 简化复杂交互

### 4.3 交互设计
- 流畅的过渡动画
- 明确的视觉反馈
- 直观的操作流程

## 5. 数据管理

### 5.1 古诗词库
- 独立文件管理，结构清晰
- 包含完整诗词信息：标题、作者、朝代、内容
- 支持按难度级别分类

### 5.2 用户数据
- 临时用户数据存储
- 游戏进度和得分记录
- 排行榜数据同步

## 6. 开发准则

### 6.1 代码规范
- 保持代码简洁、模块化
- 遵循语义化HTML结构
- 使用现代CSS特性
- 编写可维护的JavaScript代码

### 6.2 性能优化
- 最小化资源加载
- 优化图片和动画性能
- 减少不必要的重绘和回流

### 6.3 测试要求
- 跨设备兼容性测试
- 功能完整性验证
- 用户体验测试

### 6.4 开发环境配置
- 本地测试服务器端口：8086
- 本地访问地址：http://localhost:8086
- 推荐使用Python内置服务器：`python -m http.server 8086`

## 7. 项目里程碑

### 7.1 第一阶段
- 基础框架搭建
- 古诗词库集成
- 初级难度功能实现

### 7.2 第二阶段
- 中级和高级难度开发
- Supabase后端集成
- 响应式设计优化

### 7.3 第三阶段
- 排行榜系统实现
- 用户体验优化
- 测试和bug修复

## 8. 成功指标

- 用户能够顺利完成各难度级别的挑战
- 界面响应时间小于200ms
- 跨设备功能一致性
- 用户留存率和参与度

---

**备注：** 开发团队应在每次开发会话前阅读此需求文档，确保开发方向与产品目标一致。